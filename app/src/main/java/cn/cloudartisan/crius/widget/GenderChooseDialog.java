/**
  * Generated by smali2java 1.0.0.558
  * Copyright (C) 2013 Hensence.com
  */

package cn.cloudartisan.crius.widget;

import android.app.Dialog;
import android.view.View;
import android.content.Context;
import cn.cloudartisan.crius.R;

public class GenderChooseDialog extends Dialog implements View.OnClickListener {
    Context context;
    GenderChooseDialog.OnChooseListener operationListener;
    
    public GenderChooseDialog(Context context, GenderChooseDialog.OnChooseListener listener) {
        super(context, R.style.custom_dialog);
        setContentView(R.layout.custom_gender_dialog);
        findViewById(R.id.man).setOnClickListener(this);
        findViewById(R.id.female).setOnClickListener(this);
        context = context;
        setCanceledOnTouchOutside(true);
        operationListener = listener;
    }
    
    public void show(String gender) {
        findViewById(R.id.man_mark).setVisibility(View.GONE);
        findViewById(R.id.female_mark).setVisibility(View.GONE);
        if("1".equals(gender)) {
            findViewById(R.id.man_mark).setVisibility(View.VISIBLE);
        }
        if("0".equals(gender)) {
            findViewById(R.id.female_mark).setVisibility(View.VISIBLE);
        }
        super.show();
    }
    
    public void onClick(View v) {
        findViewById(R.id.man_mark).setVisibility(View.GONE);
        findViewById(R.id.female_mark).setVisibility(View.GONE);
        if(v.getId() == R.id.man) {
            operationListener.onGenderChecked("1");
            findViewById(R.id.man_mark).setVisibility(View.VISIBLE);
        }
        if(v.getId() == R.id.female) {
            operationListener.onGenderChecked("0");
            findViewById(R.id.female_mark).setVisibility(View.VISIBLE);
        }
        dismiss();
    }
    public  interface OnChooseListener
    {
         void onGenderChecked(String paramString);
    }
}
